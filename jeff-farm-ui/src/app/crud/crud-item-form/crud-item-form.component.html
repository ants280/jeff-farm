<div *ngFor="let formItem of formItems" class="formItem">
  <label [for]="formItem.name">{{formItem.name | titlecase}}</label>
  <div [ngSwitch]="formItem.type" class="formItemInput">
    <input [name]="formItem.name" *ngSwitchCase="formItemType.String" type="text" required [(ngModel)]="formItem.value"
      [autocomplete]="formItem.name == 'userName' ? 'username' : null">
    <input [name]="formItem.name" *ngSwitchCase="formItemType.Boolean" type="checkbox" [(ngModel)]="formItem.value">
    <input [name]="formItem.name" *ngSwitchCase="formItemType.Integer" type="number" required
      [(ngModel)]="formItem.value">
    <ngb-rating [id]="formItem.name" *ngSwitchCase="formItemType.Stars" max="5" resettable="true" required
      [ngClass]="{'stars-invalid': validStars(formItem)}" [(rate)]="formItem.value"></ngb-rating>
    <input [name]="formItem.name" *ngSwitchCase="formItemType.Color" type="color" required [(ngModel)]="formItem.value">
    <input [name]="formItem.name" *ngSwitchCase="formItemType.Password" autocomplete="new-password" type="password"
      required [(ngModel)]="formItem.value">
    <span *ngSwitchDefault>[Unknown editor type]</span>
  </div>
</div>
<div *ngIf="!passwordsMatch()"><span>Passwords must match</span><br /></div>

<div *ngIf="isCrudItemGroupGroup()">
  <h4>Inspections: ({{crudItem.inspectionItems.length}})</h4>
  <table class="table table-bordered table-striped">
    <tr>
      <th>Target Name</th>
      <th>Inspection</th>
    </tr>
    <tr *ngFor="let inspectionItem of crudItem.inspectionItems">
      <td>
        <ngb-alert type="info" (close)="removeInspection(inspectionItem.targetId)">{{inspectionItem.targetName}}
        </ngb-alert>
      </td>
      <td>
        <app-crud-item-form [crudItem]="inspectionItem" id="{{inspectionItem.targetId}}"></app-crud-item-form>
      </td>
    </tr>
    <tr *ngIf="targets && objectKeys(targets).length > 1">
      <td colspan="2">
        <span>Add target: </span>
        <select (change)="addInspection($event.target.selectedIndex)">
          <option *ngFor="let targetId of objectKeys(targets)">
            {{targets[targetId]}}
          </option>
        </select>
      </td>
    </tr>
  </table>
</div>