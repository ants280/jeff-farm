<div *ngIf="crudForm && selectTargets">
    <span>Target: </span>
    <select class="custom-select" (change)="setTarget($event.target.selectedIndex)"
        [formControl]="crudForm.get('targetName')">
        <option *ngFor="let targetId of objectKeys(selectTargets)" [ngValue]="selectTargets[targetId]">
            {{selectTargets[targetId]}}
        </option>
    </select>
</div>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th colspan="5" [formGroup]="coordinates">Coordinates:</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let coordinate of coordinates.controls; index as i; first as isFirst; last as isLast">
            <td>
                <app-crud-item-input-integer [control]="coordinate.get('latitude')" name="latitude">
                </app-crud-item-input-integer>
            </td>
            <td>
                <app-crud-item-input-integer [control]="coordinate.get('longitude')" name="longitude">
                </app-crud-item-input-integer>
            </td>
            <ng-container *ngIf="coordinates.enabled">
                <td><button class="btn btn-light" type="button" [disabled]="isFirst" (click)="moveCoordinateUp(i)"
                        title="Move Up">↑</button></td>
                <td><button class="btn btn-light" type="button" [disabled]="isLast" (click)="moveCoordinateDown(i)"
                        title="Move Down">↓</button></td>
                <td><button class="btn btn-danger" type="button" (click)="removeCoordinate(i)" title="Remove">X</button>
                </td>
            </ng-container>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="5">
                <a class="btn btn-secondary" (click)="addCoordinate()">Add
                    Coordinate</a>
            </td>
        </tr>
    </tfoot>
</table>