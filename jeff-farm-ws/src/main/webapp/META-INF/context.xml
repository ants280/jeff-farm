<?xml version="1.0" encoding="UTF-8"?>
<Context path="/jeff-farm-ws">

	<Resource name="jdbc/jeff-farm-data-source"
			  auth="Container"
			  type="javax.sql.DataSource"
			  maxTotal="100"
			  maxIdle="30"
			  maxWaitMillis="10000"
			  username="fred"
			  password="flintstone"
			  driverClassName="com.mysql.cj.jdbc.Driver"
			  url="jdbc:mysql://localhost:3306/JEFF_FARM_DB?serverTimezone=UTC"/>
	
	<Realm className="org.apache.catalina.realm.LockOutRealm"
		   failureCount="5"
		   lockOutTime="300">
		<Realm className="org.apache.catalina.realm.JDBCRealm"
		       debug="9"
			   driverName="com.mysql.cj.jdbc.Driver"
			   resourceName="jdbc/jeff-farm-data-source"
			   connectionURL="jdbc:mysql://localhost:3306/JEFF_FARM_DB?serverTimezone=UTC"
			   connectionName="fred"
			   connectionPassword="flintstone"
			   userTable="users"
			   userNameCol="user_name"
			   userCredCol="user_password"
			   userRoleTable="user_roles"
			   roleNameCol="role_name">
			<CredentialHandler className="org.apache.catalina.realm.MessageDigestCredentialHandler"
				               algorithm="SHA-256"
				               iterations="1000"
				               saltLength="8"/>
		</Realm>
	</Realm>

	<Manager className="org.apache.catalina.session.PersistentManager">
		<Store className="org.apache.catalina.session.JDBCStore"
		       debug="9"
			   driverName="com.mysql.cj.jdbc.Driver"
			   resourceName="jdbc/jeff-farm-data-source"
			   connectionURL="jdbc:mysql://localhost:3306/JEFF_FARM_DB?serverTimezone=UTC"
			   connectionName="fred"
			   connectionPassword="flintstone"
			   sessionAppCol="app_name"
			   sessionDataCol="session_data"
			   sessionIdCol="session_id"
			   sessionLastAccessedCol="last_access"
			   sessionMaxInactiveCol="max_inactive"
			   sessionTable="tomcat_sessions"
			   sessionValidCol="valid_session"/>
	</Manager>
	
</Context>
